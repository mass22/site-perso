import React, { Component } from "react";
import Link from "gatsby-link";
import Img from "gatsby-image";
import * as PropTypes from "prop-types";
import Helmet from "react-helmet";
import config from "../../data/SiteConfig";
import Slider from "react-slick";
import MarkdownRenderer from "react-markdown-renderer";
/** Style **/
import styled from "styled-components";
import * as palette from "../layouts/scss/variables";
import { Item, Container, Segment, Grid, Card, Icon } from "semantic-ui-react";

const propTypes = {
  data: PropTypes.object.isRequired
};

const frTelechargement = "Téléchargez la version PDF (version mars 2019)";
const frRecomtitle = "Ils ont dit...";
const frRecomLink = "Voir le profil de ";
const frDernierArticle = "Dernier article";
const frLireArticle = "Lire l'article";

const Recommandation = styled.article`
  border-top: 2px solid ${palette.DARK_GRAY};
  border-bottom: 2px solid ${palette.DARK_GRAY};
  padding: 20px 0;
  @media (${palette.SM}) {
    padding: 40px;
  }
`;

const BgImage = styled(Img)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 0;
  height: 100vh; // or whatever

  // Adjust image positioning (if image covers area with defined height) and add font-family for polyfill
  & > img {
    object-fit: cover !important; // or whatever
    object-position: 0% 0% !important; // or whatever
    font-family: "object-fit: cover !important; object-position: 0% 0% !important;"; // needed for IE9+ polyfill
  }
`;

const AbsoluteContainer = styled(Container)`
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  left: 0;
  right: 0;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
`;

const CenterBloc = styled.div`
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  left: 0;
  right: 0;
  h1 {
    text-shadow: 1px 1px 1px #000;
  }
  svg {
    max-width: 300px;
  }
`;

const Svg = styled.svg`
  max-height: 150px;
  max-width: 150px;
  width: 100%;
  min-width: 150px;
  min-height: 150px;
`;

const LastArticleContainer = styled.article`
  &:hover {
    box-shadow: 0px 0px 10px 2px ${palette.SHADOW};
    border-radius: 0.28571429rem;
    span.ui.button {
      background-color: #cacbcd;
      color: rgba(0, 0, 0, 0.8);
    }
    .ui.cards > .card > .extra,
    .ui.card > .extra {
      box-shadow: 0px -5px 0px 0px #85bee2 inset;
    }
  }
  a {
    text-decoration: none;
    color: rgba(0, 0, 0, 0.87) !important;
    &:hover {
      color: rgba(0, 0, 0, 0.87) !important;
    }
  }
`;

const AsideLastArticle = styled.aside`
  h2 {
    line-height: 1;
  }
  .ui.cards > .card,
  .ui.card {
    width: 100%;
  }

  .ui.cards > .card > .extra,
  .ui.card > .extra {
    border-top: none;
    box-shadow: 0px -5px 0px 0px ${palette.TURQUOISE} inset;

    &:hover {
      box-shadow: 0px -5px 0px 0px #85bee2 inset;
    }
  }
`;

class IndexPage extends React.Component {
  render() {
    const settings = {
      dots: true,
      infinite: true,
      lazyLoad: true,
      adaptiveHeight: true,
      accessibility: true,
      slidesToShow: 1,
      slidesToScroll: 1,
      swipeToSlide: true,
      autoplay: true,
      autoplaySpeed: 7000,
      speed: 2000
    };

    const frHomepage = this.props.data.fr.edges[0];

    const bg = this.props.data.bg.edges[0].node.sizes;

    const lastArticle = this.props.data.lastFr.edges[0].node;

    const HOMEPAGE = ({ node }) => (
      <div>
        <Segment
          inverted
          textAlign="center"
          style={{ position: "relative" }}
          vertical
        >
          <BgImage src={bg.src} sizes={bg} aria-hidden="true" />
          <AbsoluteContainer text>
            <CenterBloc>
              <h1>{frHomepage.node.name}</h1>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 362.96 360.96"
              >
                <path
                  fill="none"
                  d="M187.98 1c57.66 0 115.32.04 172.98-.1 3.42-.01 4.1.67 4.09 4.1-.11 117.98-.11 235.97 0 353.96 0 3.42-.67 4.1-4.09 4.1-118.65-.11-237.31-.11-355.96 0-3.42 0-4.1-.67-4.1-4.09.12-118 .12-235.99 0-353.97C.9 1.58 1.57.9 5 .9c56.99.14 113.98.1 170.98.1.34.51.28.97-.17 1.39-4.94 1.84-10.19 1.05-15.28 1.7-35.55 4.54-66.92 18.32-94.04 41.73-32.85 28.35-52.9 64.05-59.42 106.83-6.25 41 .41 80.08 21.68 116.01 28.63 48.36 70.97 77.51 126.4 86.26 41.13 6.5 80.38-.64 116.36-22.2 47.87-28.69 76.71-70.85 85.41-125.89 6.44-40.77-.5-79.74-21.69-115.51-28.64-48.35-71.06-76.9-126.35-86.51-6.87-1.2-13.91-.85-20.73-2.41-.45-.42-.51-.89-.17-1.4z"
                />
                <path
                  fill="#868888"
                  d="M187.98 1a.9.9 0 0 0 .06.95c-4.04 2.39-8.09 2.39-12.13 0 .2-.3.23-.62.06-.95h12.01z"
                />
                <path
                  fill="#444"
                  d="M175.91 1.95h12.13c41.97 1.24 78.71 15.92 110.52 43.15 32.07 27.46 51.97 62.27 58.97 103.59 9.35 55.17-4.12 104.84-40.57 147.7-27.33 32.14-62.18 52.07-103.53 59.11-55.17 9.38-104.83-4.05-147.75-40.43-30.64-25.97-50.3-58.96-58.14-98.15-11.41-57 1.59-108.45 39.24-153.11 25.88-30.7 59.04-49.61 98.06-58.36 10.19-2.28 20.55-3.83 31.07-3.5z"
                />
                <path
                  fill="#add4ec"
                  d="M182.28 8.23c94.33.17 171.68 77.84 171.44 172.17-.23 94.34-77.97 171.63-172.29 171.32-94.15-.31-171.3-77.78-171.2-171.92.1-94.33 77.71-171.73 172.05-171.57z"
                />
                <path
                  fill="#fe5722"
                  d="M65.71 195.96c-.78 3.67-1.59 7.32-2.33 11-.96 4.74-4.43 5.38-8.29 4.77-4.17-.65-4.63-3.93-3.9-7.21a474 474 0 0 0 5.31-26.97c.66-4.06.42-8.16 1.41-12.23.87-3.59-.02-7.53 1.07-11.29.42-1.44.65-3.39-1.02-4.59-1.96-1.4-3.52.12-4.94 1-3.11 1.9-5.96 4.21-8.04 7.26-.56.82-1.06 1.2-1.96.99-1.14-.26-.82-1.27-.91-2.02-.87-7.36 8.56-19.02 15.82-19.57 3.84-.29 7.5 2.82 8.93 7.05 2.12 6.27.44 12.4-.45 18.53-.24 1.64-.56 3.17-.04 5.69 3.34-7.68 5.92-14.92 10.62-21.06 2.93-3.83 5.91-7.73 10.31-9.79 7.15-3.36 13.43.64 13.51 8.6.05 5.08.87 10.25-.82 15.29-.27.82-.37 2.02.87 2.54 3.07-4.92 3.77-10.94 7.27-15.67 3.57-4.83 7.18-9.56 13.38-11.28 4.59-1.27 7.75-.04 10.13 3.93 4.24 7.08 4.51 14.71 3.3 22.59-1.68 10.9-4.47 21.57-6.4 32.42-.44 2.44.25 4.81 2.42 6.12 2.05 1.24 4.27.41 6.07-.89 2.29-1.66 4.19-3.79 6.03-5.94.89-1.04 1.29-3.25 3.22-2.04a4.87 4.87 0 0 1 2.16 4.76c-1.13 8.53-15.79 15.94-23.28 11.82a13.1 13.1 0 0 1-6.58-13.89c1.69-9.22 3.94-18.35 5.44-27.6.79-4.87 1.8-9.74 1.51-14.76-.16-2.89-1.07-5.4-3.63-6.64-2.65-1.28-4.74.57-6.6 2.29a25.06 25.06 0 0 0-6.35 9.44c-5.73 14.83-8.85 30.34-11.45 45.96-.72 4.3-3.12 7.19-6.36 6.85-3.11-.33-5.43-4.02-4.56-8.15 1.53-7.25 3.01-14.5 4.39-21.78 1.75-9.26 2.97-18.59 2.55-28.06-.13-2.89-1.05-5.62-3.7-6.52-2.86-.97-4.91 1.26-6.37 3.62C75.01 164.18 69.4 179 65.5 194.51c-.12.46.08.97.21 1.45zM267.01 171.1c7.78 3.87 9.83 11.38 11.67 18.86.82 3.32.24 7.58 4.12 8.82 5 1.6 9.57-.97 13.01-4.29 2.11-2.04 2.67-1.79 3.96.26 4.14 6.56 4.16 6.53-3.05 10.17a35.85 35.85 0 0 1-14.09 3.99c-5.18.33-8.37-2.27-10.71-6.49-3.4-6.13-4.2-13.03-5.93-19.67-.93-3.58-1.4-7.47-4.67-10.06-1.38-1.1-2.81-.71-4.27-.69-2.07 7.15-1.72 14.73-3.8 21.88a114.5 114.5 0 0 1-3.62 10.31c-4.6 11.59-19.03 10.39-24.96 1.49-7.77-11.64-8.8-24.34-5.42-37.68a50.88 50.88 0 0 1 45.14-38.37c8.59-.75 16.63 1.48 23.42 7.62 10.04 9.09 4.9 22.33-4.17 27.66-5.22 3.08-11.14 3.97-16.63 6.19z"
                />
                <path
                  fill="#444"
                  d="M190.23 263.39c5.09 1.19 9.71-.09 13.94 2.51l-.02-.08h-51.46c4.53-1.83 9.1-1.92 13.67-1.92-.02-2.14-1.62-2.32-2.6-3.04-7.93-5.83-12.46-13.63-13.81-23.36-.4-2.84.08-4.17 3.49-4.13 16.99.17 33.99-.08 50.97.19 4 .06 7.43 2.72 9.86 5.87 1.58 2.05 1.36 4.84.04 7.14-1.43 2.48-3.86 4.2-6.65 3.42-3.37-.94-4.62.65-6.13 3.09-2.62 4.25-6.75 7.11-11.3 10.31zM155.49 91.62c4.28.01 11.04.91 17.69 2.46 8.41 1.96 16.57.15 24.69-1.59 9.36-2 18.5-1.53 27.57 1.38 3.97 1.27 5.15 4.06 2.53 7.32-2.09 2.61-2.99 5.53-3.76 8.58-2.2 8.73-6.13 12.38-14.9 13.61-9.05 1.27-16.76-1.99-20.58-8.94-1.27-2.31-2.06-4.89-3.03-7.36-.8-2.04-1.45-4.17-4.23-4.23-2.93-.07-3.35 2.14-4.02 4.24-4.45 14.1-15.1 19.86-29.02 15.81-4.11-1.2-6.92-3.6-8.48-7.69-2-5.22-2.97-10.79-6.49-15.53-1.88-2.53-1.31-5.63 3.11-6.39 5.43-.94 10.86-1.58 18.92-1.67z"
                />
                <path
                  fill="#fe6d3f"
                  d="M65.71 195.96c-1.66-1.96-.23-3.84.27-5.65 3.89-13.98 9.07-27.42 16.71-39.84 1.69-2.75 3.9-5.1 7.17-4.21 3.53.97 4.05 4.33 4.18 7.7.63 16.43-3.43 32.2-6.63 48.08-.79 3.91-.43 7.14 3.57 8.63 2.82 1.05 5.21-2.23 6.04-6.92 2.71-15.34 5.64-30.65 11.29-45.25a26.82 26.82 0 0 1 6.56-9.9c2.04-1.93 4.44-3.4 7.19-2.34 2.94 1.13 3.83 3.88 3.95 6.92.29 7.35-1.29 14.5-2.53 21.66-1.24 7.17-3.01 14.24-4.32 21.39-.93 5.05 1.04 9.25 5.06 12.24 4.28 3.19 8.83 3.36 13.46.37a32.75 32.75 0 0 0 9.41-9.46c1.49-2.2.58-4.17-.9-5.31-2.02-1.55-2.04 1.28-2.96 2.11-1.72 1.57-3.21 3.4-4.98 4.9-2.31 1.95-5.21 2.87-7.87 1.32-2.56-1.49-2.8-4.43-2.27-7.16 1.72-8.76 3.62-17.49 5.32-26.25 1.65-8.51 2.67-16.86-1.01-25.35-3.55-8.19-10.24-8.08-16.52-3.03-5.99 4.82-9.75 11.18-12.13 18.45-.58 1.77-.51 4.13-2.92 4.88 2.72-8.87 5.96-17.37 13.31-23.72a16.64 16.64 0 0 1 9.75-4.19c3.83-.34 6.45 1.26 8.46 4.73 5.3 9.18 3.93 18.87 2.32 28.46-1.48 8.86-3.72 17.6-5.6 26.4a5.61 5.61 0 0 0 2 5.8c2.04 1.57 4.24.25 5.89-1.06 3.51-2.77 6.18-6.4 8.91-10.05 4.39 6.49 4.32 8.32-.4 13.58-2.44 2.72-5.05 5.38-8.4 6.86-4.83 2.14-9.77 1.87-14.06-1.39-4.53-3.43-5.89-8.41-4.94-13.77 1.65-9.35 3.93-18.59 5.47-27.96.77-4.68 1.86-9.4 1.44-14.25-.23-2.67-1.22-5.06-3.61-6.09-2.2-.94-4 .83-5.6 2.31a25.46 25.46 0 0 0-6.52 9.81c-5.57 14.79-8.77 30.19-11.28 45.74-.75 4.65-2.85 7.08-6.85 6.77-4.68-.36-5.68-3.67-5.08-7.43 1.23-7.76 2.83-15.47 4.31-23.19 1.73-9.09 2.98-18.22 2.65-27.51-.1-2.89-1.12-5.81-3.69-6.44-2.33-.57-4.18 1.73-5.6 4.03-8.55 13.85-14.02 28.91-18.02 44.58z"
                />
                <path
                  fill="#fe6c3e"
                  d="M267.01 171.1c1.88-2.66 5.04-2.2 7.64-3.04 5.81-1.86 11.27-4.3 14.87-9.42 6.59-9.36 2.24-21.22-9.28-25.71-15.12-5.88-29.06-2.11-41.25 6.93-14.12 10.48-21.66 25.24-20.81 43.08.48 10.08 2.27 20.36 11.89 26.65 7.07 4.62 14.59 2.59 18.48-4.78 4.11-7.78 5.4-16.3 6.38-24.88.32-2.78.45-5.56 2.14-7.94-1.28 11.07-2.44 22.02-6.81 32.61-4.85 11.74-20.27 10.52-26.16 1.54-7.8-11.91-9.1-24.95-5.37-38.36 6.18-22.17 21.05-35.19 43.7-38.56 9.48-1.41 18.5.73 26.1 7.7 9.34 8.57 5.8 22.57-4.36 28.4a48.3 48.3 0 0 1-17.16 5.78z"
                />
                <path
                  fill="#add4ec"
                  d="M253.95 149.94l-2.01 1.96c-2.13 3.01-1.82 6.76-3.07 10.04-1 .04-2.02-.05-2.98.15-1.61.33-3.89-1.12-4.7 1.35a4.34 4.34 0 0 0 2.48 5.42c5.17 2.3 4.48 5.81 3.71 10.44-.71 4.3-.62 8.88-1.49 13.2-.72 3.59-2.59 6.94-3.94 10.4-4.67 2.4-8.91.53-11.82-5.24-3.14-6.21-3.16-12.96-2.52-19.55 1.02-10.42 4.37-20.09 11.57-28.06 5.89-6.53 13.1-10.61 21.9-11.5 3.3-.33 6.67-.21 9.99-.02 7.14.4 12.86 6.16 12.36 12.36-.39 4.89-3.82 7.68-7.63 9.78a22.5 22.5 0 0 1-16.81 2.23l.06.05c-1.2-2.41-.25-4.71.22-7.08.92-4.64-.47-6.1-5.32-5.93z"
                />
                <path
                  fill="#fe693a"
                  d="M258.99 162.91c4.98.39 9.81.02 14.57-1.84 5.83-2.29 10.13-7.7 9.41-12.48-.7-4.63-6.57-9.14-12.44-9.63-23.56-1.96-37.46 13.46-41.55 34.06-1.52 7.67-1.79 15.34.99 22.87 2.2 5.95 6.57 8.56 11.98 7.03-2.58 3.87-5.5 2.06-8.13.26-4.28-2.93-6.14-7.56-6.63-12.37-1.6-15.78 1.31-30.64 12.4-42.54 9.38-10.06 21.84-12.07 34.87-9.78 4.47.78 8.19 4.02 9.35 8.81 1.16 4.79-.6 8.79-4.49 11.86-6.13 4.81-12.84 6.35-20.33 3.75z"
                />
                <path
                  fill="#fe6c3e"
                  d="M253.95 149.94c5.03-1.69 5.78-1.11 6.05 3.77.17 3.17-1.77 6.05-.95 9.24-1.88-1.58-1.49-3.92-.86-5.53 1.75-4.53.11-6.65-4.24-7.48z"
                />
                <path
                  fill="#fe6f42"
                  d="M248.87 161.95c.33-3.56-.07-7.34 3.07-10.04-1.06 3.33-.98 7.02-3.07 10.04z"
                />
                <path
                  fill="#b4d2e1"
                  d="M213.01 243.12c-.17 2.67-1.66 4.58-4.79 4.8-1.23.09-3.35-.21-2.43-1.9 1.39-2.58-.28-6.94 3.5-7.73 1.9-.4 3.62 1.95 3.72 4.83z"
                />
                <path
                  fill="#add4ec"
                  d="M155.69 121.13c-10.49.05-18.56-11.16-15.29-21.2a5.78 5.78 0 0 1 4.5-4.17c8.02-1.76 16.08-2.53 24.08-.03 5.85 1.83 7.16 4.71 5.33 10.68-3.08 10.08-8.89 14.67-18.62 14.72zM208.25 121.13c-11.6-.02-18.73-6.16-20.32-16.26-.69-4.38.59-7.58 5.1-8.88 7.98-2.31 16-2.68 24.1-.49 4.06 1.1 5.95 3.73 5.23 7.75-1.23 6.9-1.08 14.78-10.06 17.16-1.74.47-3.57.64-4.05.72z"
                />
                <path fill="none" d="M107.24 105.46l70.71-70.71" />
                <path
                  fill="none"
                  stroke="#000"
                  strokeMiterlimit="10"
                  strokeWidth="4"
                  d="M182.44 180.48"
                />
                <g>
                  <path
                    fill="#444"
                    d="M108.68 104.08l142.56 148.76-2.89 2.77L105.8 106.85z"
                  />
                </g>
                <g>
                  <path
                    fill="#444"
                    d="M248.96 104.07l2.89 2.77-142.77 148.77-2.89-2.77z"
                  />
                </g>
              </svg>
            </CenterBloc>
          </AbsoluteContainer>
        </Segment>

        <Container>
          <Grid stackable columns={2}>
            <Grid.Column width={11}>
              <MarkdownRenderer
                markdown={frHomepage.node.content.content}
                style={{ marginBottom: 10 }}
              />
              <a
                href={require("../static/files/CV_Massimo_RUSSO.pdf")}
                target={"_blank"}
                title={"CV Massimo Russo - PDF"}
                className={"ext-pdf"}
              >
                {frTelechargement}
              </a>
            </Grid.Column>
            <Grid.Column width={5}>
              <LASTARTICLE />
            </Grid.Column>
          </Grid>
        </Container>

        <Container fluid style={{ backgroundColor: `${palette.SHADOW}` }}>
          <Container>
            <Grid>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                  <path d="M108.4 0h23v22.8h21.2V0h23v69h-23V46h-21v23h-23.2M206 23h-20.3V0h63.7v23H229v46h-23m53.5-69h24.1l14.8 24.3L313.2 0h24.1v69h-23V34.8l-16.1 24.8-16.1-24.8V69h-22.6m89.2-69h23v46.2h32.6V69h-55.6" />
                  <path
                    fill="#e44d26"
                    d="M107.6 471l-33-370.4h362.8l-33 370.2L255.7 512"
                  />
                  <path fill="#f16529" d="M256 480.5V131h148.3L376 447" />
                  <path
                    fill="#ebebeb"
                    d="M142 176.3h114v45.4h-64.2l4.2 46.5h60v45.3H154.4m2 22.8H202l3.2 36.3 50.8 13.6v47.4l-93.2-26"
                  />
                  <path
                    fill="#fff"
                    d="M369.6 176.3H255.8v45.4h109.6m-4.1 46.5H255.8v45.4h56l-5.3 59-50.7 13.6v47.2l93-25.8"
                  />
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 512">
                  <path
                    fill="#264de4"
                    d="M362.74 100.62l-33.05 370.2L181.15 512 33 470.88 0 100.62z"
                  />
                  <path
                    fill="#2965f1"
                    d="M301.4 447.25l28.24-316.36H181.37v349.63z"
                  />
                  <path
                    fill="#ebebeb"
                    d="M75.68 268.22l4.07 45.41h101.62v-45.41zM181.37 176.31H67.5l4.13 45.41h109.74zM181.37 433.4v-47.25l-.2.06-50.57-13.66-3.24-36.22H81.78l6.36 71.3 93.02 25.83z"
                  />
                  <path d="M85.37 0h55v23h-32v23h32v23h-55zM151.37 0h55v20h-32v4h32v46h-55V49h32v-4h-32zM217.37 0h55v20h-32v4h32v46h-55V49h32v-4h-32z" />
                  <path
                    fill="#fff"
                    d="M237.13 313.63l-5.27 58.89-50.65 13.67v47.25l93.1-25.81.68-7.67 10.67-119.55 1.1-12.19 8.2-91.91H181.22v45.41h63.99l-4.13 46.5H181.2v45.41z"
                  />
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 630 630">
                  <path fill="#f7df1e" d="M0 0h630v630H0z" />
                  <path d="M423.2 492.19c12.69 20.72 29.2 35.95 58.4 35.95 24.53 0 40.2-12.26 40.2-29.2 0-20.3-16.1-27.49-43.1-39.3l-14.8-6.35c-42.72-18.2-71.1-41-71.1-89.2 0-44.4 33.83-78.2 86.7-78.2 37.64 0 64.7 13.1 84.2 47.4l-46.1 29.6c-10.15-18.2-21.1-25.37-38.1-25.37-17.34 0-28.33 11-28.33 25.37 0 17.76 11 24.95 36.4 35.95l14.8 6.34c50.3 21.57 78.7 43.56 78.7 93 0 53.3-41.87 82.5-98.1 82.5-54.98 0-90.5-26.2-107.88-60.54zm-209.13 5.13c9.3 16.5 17.76 30.45 38.1 30.45 19.45 0 31.72-7.61 31.72-37.2v-201.3h59.2v202.1c0 61.3-35.94 89.2-88.4 89.2-47.4 0-74.85-24.53-88.81-54.08z" />
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 547.8 410.6"
                >
                  <path
                    fill="#CD6799"
                    d="M471.4 236c-19.1.1-35.7 4.7-49.6 11.5-5.1-10.1-10.2-19.1-11.1-25.7-1-7.7-2.2-12.4-1-21.6 1.2-9.2 6.6-22.3 6.5-23.3s-1.2-5.7-12.2-5.8c-11-.1-20.5 2.1-21.6 5-1.1 2.9-3.2 9.5-4.6 16.3-1.9 10-22 45.7-33.5 64.4-3.7-7.3-6.9-13.7-7.6-18.8-1-7.7-2.2-12.4-1-21.6 1.2-9.2 6.6-22.3 6.5-23.3-.1-1-1.2-5.7-12.2-5.8-11-.1-20.5 2.1-21.6 5-1.1 2.9-2.3 9.7-4.6 16.3-2.3 6.6-29 66.2-36 81.6-3.6 7.9-6.7 14.2-8.9 18.5s-.1.3-.4.8c-1.9 3.7-3 5.7-3 5.7v.1c-1.5 2.7-3.1 5.2-3.9 5.2-.6 0-1.7-7.2.2-17 4-20.7 13.5-52.9 13.4-54 0-.6 1.8-6.2-6.2-9.1-7.8-2.9-10.6 1.9-11.3 1.9-.7 0-1.2 1.7-1.2 1.7s8.7-36.2-16.6-36.2c-15.8 0-37.6 17.3-48.4 32.9-6.8 3.7-21.3 11.6-36.8 20.1-5.9 3.3-12 6.6-17.7 9.7-.4-.4-.8-.9-1.2-1.3-30.6-32.7-87.2-55.8-84.8-99.7.9-16 6.4-58 108.7-109 84.2-41.5 151.2-30 162.8-4.5 16.6 36.4-35.9 104-122.9 113.8-33.2 3.7-50.6-9.1-55-13.9-4.6-5-5.3-5.3-7-4.3-2.8 1.5-1 6 0 8.6 2.6 6.8 13.3 18.8 31.4 24.7 16 5.2 54.9 8.1 102-10.1 52.7-20.4 93.9-77.1 81.8-124.6C330.7 2 250.7-13.9 175 13 130 29 81.2 54.2 46.1 87 4.4 126-2.2 159.9.5 174.1c9.7 50.4 79.2 83.2 107 107.5-1.4.8-2.7 1.5-3.8 2.1-13.9 6.9-66.9 34.6-80.1 63.9-15 33.2 2.4 57 13.9 60.2 35.7 9.9 72.4-7.9 92.1-37.3 19.7-29.4 17.3-67.6 8.2-85.1-.1-.2-.2-.4-.4-.6 3.6-2.1 7.3-4.3 10.9-6.4 7.1-4.2 14.1-8.1 20.1-11.3-3.4 9.3-5.9 20.4-7.1 36.4-1.5 18.8 6.2 43.2 16.3 52.8 4.5 4.2 9.8 4.3 13.2 4.3 11.8 0 17.1-9.8 23-21.4 7.2-14.2 13.7-30.7 13.7-30.7s-8.1 44.6 13.9 44.6c8 0 16.1-10.4 19.7-15.7v.1s.2-.3.6-1l1.3-2.1v-.2c3.2-5.6 10.4-18.3 21.1-39.4 13.8-27.2 27.1-61.2 27.1-61.2s1.2 8.3 5.3 22.1c2.4 8.1 7.4 17 11.4 25.6-3.2 4.5-5.2 7-5.2 7l.1.1c-2.6 3.4-5.4 7.1-8.5 10.7-10.9 13-23.9 27.9-25.7 32.2-2.1 5.1-1.6 8.8 2.4 11.8 2.9 2.2 8.1 2.5 13.4 2.2 9.8-.7 16.7-3.1 20.1-4.6 5.3-1.9 11.5-4.8 17.3-9.1 10.7-7.9 17.2-19.2 16.6-34.1-.3-8.2-3-16.4-6.3-24.1 1-1.4 1.9-2.8 2.9-4.2 16.9-24.7 30-51.8 30-51.8s1.2 8.3 5.3 22.1c2 7 6.1 14.6 9.7 22-15.9 12.9-25.7 27.9-29.2 37.7-6.3 18.2-1.4 26.4 7.9 28.3 4.2.9 10.2-1.1 14.6-3a66.5 66.5 0 0 0 18.5-9.5c10.7-7.9 21-18.9 20.4-33.8-.3-6.8-2.1-13.5-4.6-20 13.5-5.6 30.9-8.7 53.1-6.1 47.6 5.6 57 35.3 55.2 47.8-1.8 12.5-11.8 19.3-15.1 21.4-3.3 2.1-4.4 2.8-4.1 4.3.4 2.2 2 2.1 4.8 1.7 3.9-.7 25-10.1 25.9-33.1 1.5-29.4-26.5-61.5-76-61.2zM104.2 359.8C88.4 377 66.4 383.5 56.9 378c-10.2-5.9-6.2-31.3 13.2-49.5 11.8-11.1 27-21.4 37.1-27.7 2.3-1.4 5.7-3.4 9.8-5.9.7-.4 1.1-.6 1.1-.6l2.4-1.5c7.1 26 .3 48.9-16.3 67zm115-78.2c-5.5 13.4-17 47.7-24 45.8-6-1.6-9.7-27.6-1.2-53.3 4.3-12.9 13.4-28.3 18.7-34.3 8.6-9.6 18.1-12.8 20.4-8.9 2.9 5.1-10.5 42.3-13.9 50.7zm94.9 45.4c-2.3 1.2-4.5 2-5.5 1.4-.7-.4 1-2 1-2s11.9-12.8 16.6-18.6c2.7-3.4 5.9-7.4 9.3-11.9v1.3c0 15.3-14.8 25.6-21.4 29.8zm73.2-16.7c-1.7-1.2-1.4-5.2 4.3-17.7 2.2-4.9 7.4-13.1 16.3-21 1 3.2 1.7 6.3 1.6 9.2-.1 19.3-13.9 26.5-22.2 29.5z"
                  />
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg
                  xmlns="http://www.w3.org/2000/svg"
                  data-name="Layer 1"
                  viewBox="0 0 23 20.46"
                >
                  <path
                    fill="#61dafb"
                    d="M18.91 6.63l-.74-.23.11-.5c.57-2.73.2-4.92-1.05-5.64-1.2-.7-3.16.03-5.15 1.75l-.57.53-.38-.35C9.05.34 6.97-.43 5.73.29c-1.2.7-1.56 2.75-1.06 5.33l.17.77c-.3.08-.58.17-.85.26C1.56 7.5 0 8.83 0 10.21c0 1.43 1.67 2.86 4.2 3.72l.63.2q-.1.4-.18.82c-.48 2.53-.1 4.55 1.09 5.23 1.23.72 3.3-.02 5.32-1.78q.24-.2.48-.44.3.3.62.57c1.96 1.68 3.89 2.36 5.08 1.67 1.24-.72 1.64-2.88 1.12-5.5l-.14-.62.43-.14c2.63-.87 4.35-2.28 4.35-3.73 0-1.38-1.6-2.72-4.09-3.58zm-6.18-3.87c1.7-1.48 3.28-2.07 4-1.65.78.45 1.08 2.24.6 4.59l-.11.45a23.54 23.54 0 0 0-3.08-.48 23.08 23.08 0 0 0-1.94-2.43q.26-.25.53-.48zm-5.94 8.63q.31.6.65 1.2.35.59.73 1.17a20.92 20.92 0 0 1-2.12-.34c.2-.65.45-1.34.74-2.03zm0-2.31c-.29-.68-.53-1.35-.73-1.99.66-.15 1.36-.27 2.08-.36q-.36.57-.7 1.16-.34.59-.65 1.19zm.52 1.16q.46-.95.98-1.86.52-.9 1.12-1.77a27.84 27.84 0 0 1 4.19 0q.58.86 1.1 1.77.53.9 1 1.84-.46.95-.99 1.86-.52.91-1.1 1.78a29.62 29.62 0 0 1-4.2.01Q8.83 13 8.3 12.1q-.52-.9-.98-1.85zm8.25 2.33q.35-.6.67-1.21a20.87 20.87 0 0 1 .77 2.02 20.85 20.85 0 0 1-2.15.36q.37-.57.71-1.17zm.66-3.49l-.66-1.2q-.34-.58-.7-1.15c.73.1 1.43.22 2.1.37a20.96 20.96 0 0 1-.74 1.98zm-4.7-5.14a21.01 21.01 0 0 1 1.34 1.64q-1.35-.07-2.71 0c.44-.6.9-1.14 1.36-1.64zm-5.3-2.8c.76-.44 2.46.2 4.26 1.78l.34.32a23.55 23.55 0 0 0-1.96 2.43 24 24 0 0 0-3.07.47l-.15-.7c-.44-2.21-.15-3.88.57-4.3zM5.08 13.18L4.52 13a8.32 8.32 0 0 1-2.68-1.42 2.03 2.03 0 0 1-.86-1.37c0-.84 1.25-1.9 3.33-2.63q.4-.14.8-.25a23.56 23.56 0 0 0 1.12 2.9 23.92 23.92 0 0 0-1.14 2.95zm5.33 4.48a8.32 8.32 0 0 1-2.58 1.61 2.03 2.03 0 0 1-1.61.06c-.73-.41-1.03-2.03-.62-4.2l.17-.76a23.1 23.1 0 0 0 3.1.45 23.91 23.91 0 0 0 1.97 2.44l-.43.4zm1.12-1.11c-.47-.5-.93-1.06-1.39-1.66q.66.03 1.35.03.7 0 1.39-.03a20.9 20.9 0 0 1-1.35 1.66zm5.96 1.37a2.03 2.03 0 0 1-.75 1.43c-.72.41-2.27-.13-3.94-1.57q-.3-.25-.58-.53a23.09 23.09 0 0 0 1.92-2.44 22.94 22.94 0 0 0 3.12-.48l.12.55a8.32 8.32 0 0 1 .11 3.04zm.84-4.91l-.39.12a23.06 23.06 0 0 0-1.16-2.91 23.05 23.05 0 0 0 1.12-2.87c.23.06.46.14.68.21 2.13.73 3.43 1.82 3.43 2.65 0 .9-1.4 2.05-3.68 2.8z"
                  />
                  <path
                    fill="#61dafb"
                    d="M11.5 8.16a2.05 2.05 0 1 1-2.05 2.05 2.05 2.05 0 0 1 2.05-2.05"
                  />
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 261.76 226.69"
                >
                  <path
                    fill="#41b883"
                    d="M161.1 0l-30.23 52.35L100.65 0H0L130.87 226.7 261.75 0z"
                  />
                  <path
                    fill="#34495e"
                    d="M161.1 0l-30.23 52.35L100.65 0h-48.3l78.52 136.01L209.4.01z"
                  />
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250">
                  <defs/>
                  <path fill="#dd0031" d="M125 30L31.9 63.2l14.2 123.1L125 230l78.9-43.7 14.2-123.1z"/>
                  <path fill="#c3002f" d="M125 30v22.2-.1V230l78.9-43.7 14.2-123.1L125 30z"/>
                  <path fill="#fff" d="M125 52.1L66.8 182.6h21.7l11.7-29.2h49.4l11.7 29.2H183L125 52.1zm17 83.3h-34l17-40.9 17 40.9z"/>
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg xmlns="http://www.w3.org/2000/svg" class="NuxtLogo" viewBox="0 0 452 342">
                  <defs/>
                  <path fill="#00C58E" d="M139 330l-1-2c-2-4-2-8-1-13H29L189 31l67 121 22-16-67-121c-1-2-9-14-22-14-6 0-15 2-22 15L5 303c-1 3-8 16-2 27 4 6 10 12 24 12h136c-14 0-21-6-24-12z"/>
                  <path fill="#108775" d="M447 304L317 70c-2-2-9-15-22-15-6 0-15 3-22 15l-17 28v54l39-67 129 230h-49a23 23 0 01-2 14l-1 1c-6 11-21 12-23 12h76c3 0 17-1 24-12 3-5 5-14-2-26z"/>
                  <path fill="#2F495E" d="M376 330v-1l1-2c1-4 2-8 1-12l-4-12-102-178-15-27h-1l-15 27-102 178-4 12a24 24 0 002 15c4 6 10 12 24 12h190c3 0 18-1 25-12zM256 152l93 163H163l93-163z"/>
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 250 260"
                  preserveAspectRatio="xMidYMid"
                >
                  <path
                    fill="#744C9E"
                    d="M128 0C57.3 0 0 57.3 0 128s57.3 128 128 128 128-57.3 128-128S198.7 0 128 0zM27.5 129.33l99.17 99.17c-54.46-.71-98.46-44.71-99.17-99.17zm123 96.65L30.02 105.5C40.23 60.82 80.22 27.5 128 27.5c33.4 0 62.98 16.29 81.26 41.36l-13.91 12.28a82.08 82.08 0 0 0-144.51 18.94l105.1 105.1a82.22 82.22 0 0 0 51.73-57.48H164.1V128h64.41c0 47.78-33.33 87.77-78.01 97.98z"
                  />
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
                <Svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
                  <g fill="#E11F27">
                    <path d="M248.22 3.26C112.1 3.26 2 114.44 2 251.11s110.1 247.85 246.22 247.85c136.13 0 246.22-110.64 246.22-247.85 0-136.67-110.1-247.85-246.22-247.85zm2.17 427.37c-99.25 0-180.06-81.36-180.06-181.15S151.14 68.34 250.4 68.34s180.06 81.35 180.06 181.14c0 100.33-80.27 181.15-180.06 181.15z" />
                    <path d="M83.35 295.58s29.29 115.52 144.8 127.45c115.52 12.48 173.01-87.86 173.01-87.86l-30.91-18.98S321.98 397 236.29 394.3c-85.69-2.72-128.53-54.24-152.94-98.7z" />
                    <path d="M144.1 360.66c26.02 18.44 56.4 28.2 92.19 29.29 81.9 2.71 129.62-75.39 130.16-75.93l2.17-3.8 3.8 2.17 28.74 17.9c26.57-43.39 20.07-92.2 20.07-92.2l-53.7.55s4.34 78.63-90.56 123.65c-39.6 18.44-105.76 15.73-145.35-15.73.54 0 4.34 5.97 12.47 14.1z" />
                    <path d="M360.49 234.3v-4.34h4.33l56.4-.54c-2.7-43.4-35.24-81.9-35.24-81.9l-62.92 39.05s40.14 29.83 3.8 100.88c-12.47 24.94-40.13 51.52-65.08 62.9-30.37 14.1-54.23 15.2-54.23 15.2 3.25 1.08 32.54 7.04 74.3-11.4 81.35-35.79 78.63-116.6 78.63-119.85z" />
                  </g>
                </Svg>
              </Grid.Column>
              <Grid.Column mobile={8} tablet={8} computer={4}>
              <Svg xmlns="http://www.w3.org/2000/svg" viewBox="-153 -46 652 652">
  <defs/>
  <path fill="#f05a22" d="M-126.7 184.6H62.6v189.3h-189.3V184.6zm94.6 80.7c-7.7 0-14 6.3-14 14 0 5.7 3.4 10.8 8.6 12.9 5.2 2.2 11.2 1 15.2-3s5.2-10 3-15.2c-2-5.3-7.1-8.7-12.8-8.7m36 4.3c-12 0-11.7 19.2.1 19.2h21.5c12.2 0 10.2-14.5 9.5-18.3-.1-.5-.6-.9-1.1-.9h-30M-68 288.8c12 0 11.7-19.2-.1-19.2h-21.5c-12.2 0-10.2 14.5-9.5 18.3.1.5.6.9 1.1.9h30m54.5-41.8c-8.4 8.4 5.3 21.8 13.7 13.5l15.2-15.2c8.6-8.6-3-17.5-6.2-19.6-.5-.3-1.1-.3-1.5.1L-13.5 247m-37.2 64.4c8.4-8.4-5.3-21.8-13.7-13.5l-15.2 15.2c-8.6 8.6 3 17.4 6.2 19.6.5.3 1.1.2 1.5-.1l21.2-21.2m9-68.2c0 12 19.2 11.7 19.2-.1v-21.5c0-12.2-14.5-10.2-18.3-9.5-.5.1-.9.6-.9 1.1v30m19.2 72c0-12-19.2-11.7-19.2.1v21.5c0 12.2 14.5 10.2 18.3 9.5.5-.1.9-.6.9-1.1v-30m-41.8-54.6c8.4 8.5 21.8-5.3 13.5-13.7L-66 231.7c-8.6-8.6-17.5 3-19.6 6.2-.3.5-.3 1.1.1 1.4l21.2 21.3M.1 297.8c-8.4-8.5-21.8 5.3-13.5 13.7l15.2 15.2c8.6 8.6 17.5-3 19.6-6.2.3-.5.3-1.1-.1-1.4L.1 297.8"/>
</Svg>
              </Grid.Column>
            </Grid>
          </Container>
        </Container>

        <Container fluid style={{ backgroundColor: "#fff" }}>
          <Container>
            <h2>{frRecomtitle}</h2>
            <Slider {...settings}>
              {[
                frHomepage.node.recommendations.map((recommandation, i) => (
                  <Recommandation className="C--recommandations">
                    <Item.Group unstackable>
                      <Item>
                        <Item.Image
                          size="tiny"
                          style={{ maxWidth: 80 }}
                          src={recommandation.photo.sizes.src}
                          alt={recommandation.author}
                        />
                        <Item.Content>
                          <Item.Header>
                            "{recommandation.content.content}"
                          </Item.Header>
                          <Item.Description>
                            {recommandation.author} - {recommandation.position}
                          </Item.Description>
                          <a href={`${recommandation.link}`}>
                            {frRecomLink}
                            {recommandation.author.split(" ", 1)}
                          </a>
                        </Item.Content>
                      </Item>
                    </Item.Group>
                  </Recommandation>
                ))
              ]}
            </Slider>
          </Container>
        </Container>
      </div>
    );

    const LASTARTICLE = ({ node }) => (
      <AsideLastArticle>
        <h2>{frDernierArticle}</h2>
        <LastArticleContainer>
          <Link to={`/blogue/${lastArticle.slug}/`}>
            <Card>
              <Img
                src={lastArticle.media.sizes.src}
                style={{
                  margin: 0
                }}
                sizes={lastArticle.media.sizes}
              />
              <Card.Content>
                <Card.Header>{lastArticle.title}</Card.Header>
                <Card.Meta>{lastArticle.createdAt}</Card.Meta>
                <Card.Description>{lastArticle.description}</Card.Description>
              </Card.Content>
              <Card.Content extra>
                <span className="ui fluid icon right labeled button">
                  {frLireArticle}
                </span>
              </Card.Content>
            </Card>
          </Link>
        </LastArticleContainer>
      </AsideLastArticle>
    );

    return (
      <div>
        <Helmet>
          <title>{config.siteTitle}</title>
        </Helmet>
        <HOMEPAGE />
      </div>
    );
  }
}

IndexPage.propTypes = propTypes;

export default IndexPage;

export const pageQuery = graphql`
  query PageQuery {
    fr: allContentfulHomepage(filter: { node_locale: { eq: "fr-CA" } }) {
      edges {
        node {
          id
          name
          content {
            content
          }
          recommendations {
            id
            author
            content {
              content
            }
            link
            position
            photo {
              sizes(maxWidth: 100) {
                base64
                aspectRatio
                src
                srcSet
                sizes
              }
            }
          }
        }
      }
    }
    bg: allContentfulAsset(filter: { id: { eq: "c5PxvSEWkBqoswQKa0ioIAq" } }) {
      edges {
        node {
          id
          sizes(maxWidth: 4000) {
            base64
            aspectRatio
            src
            srcSet
            sizes
          }
        }
      }
    }
    lastFr: allContentfulArticles(
      filter: { node_locale: { eq: "fr-CA" } }
      sort: { fields: [createdAt], order: DESC }
      limit: 1
    ) {
      edges {
        node {
          id
          title
          description
          slug
          createdAt(formatString: "DD MMM, YYYY")
          media {
            sizes(maxWidth: 100) {
              base64
              aspectRatio
              src
              srcSet
              sizes
            }
          }
        }
      }
    }
  }
`;
